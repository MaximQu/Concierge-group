!function(){const e=document.querySelector(".burger__menu"),t=[e,document.querySelector(".burger__wrapp")];e.addEventListener("click",(()=>{t.forEach((e=>{e.classList.toggle("active")}))}));const a=document.querySelectorAll(".events__item");a.forEach((e=>{e.addEventListener("click",(()=>{s(),e.classList.add("active")}))}));const s=()=>{a.forEach((e=>{e.classList.remove("active")}))},n=document.querySelector("header");document.body.getBoundingClientRect().top<200&&n.classList.add("fixed"),window.addEventListener("scroll",(()=>{n.classList.toggle("fixed",window.scrollY>200)}));const o=document.querySelector(".open-modal"),l=document.querySelector(".modal-window"),r=l.querySelector(".modal-window__overflow"),c=l.querySelector(".modal-window__close");o&&(o.addEventListener("click",(()=>{l.classList.add("active"),document.body.style.overflow="hidden"})),c.addEventListener("click",(()=>{l.classList.remove("active"),document.body.style.overflow="scroll"})),r.addEventListener("click",(()=>{l.classList.remove("active"),document.body.style.overflow="scroll"}))),document.addEventListener("DOMContentLoaded",(function(e){let t=localStorage.getItem("scrollpos");t&&window.scrollTo(0,t)})),window.onbeforeunload=function(e){localStorage.setItem("scrollpos",window.scrollY)};const i=document.querySelector(".preview__btn"),d=document.querySelectorAll(".preview__text");i&&i.addEventListener("click",(()=>{d.forEach((e=>{e.classList.toggle("show")})),i.classList.add("hide")})),new Swiper(".slider",{loop:!0,slidesPerView:"auto",spaceBetween:25,grabCursor:!0,loopedSlides:5,followFinger:!1,speed:1e3,centeredSlides:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},breakpoints:{320:{spaceBetween:5},375:{spaceBetween:10},480:{spaceBetween:15},767:{spaceBetween:20}}}),new Swiper(".slider-event",{loop:!0,slidesPerView:"auto",spaceBetween:25,grabCursor:!0,loopedSlides:3,followFinger:!1,speed:1e3,centeredSlides:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{spaceBetween:5},375:{spaceBetween:10},480:{spaceBetween:15},767:{spaceBetween:20}}}),new Swiper(".slider-events",{loop:!0,slidesPerView:"auto",loopedSlides:4,spaceBetween:25,grabCursor:!0,followFinger:!1,speed:1e3,centeredSlides:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},breakpoints:{320:{spaceBetween:5},375:{spaceBetween:10},480:{spaceBetween:15},767:{spaceBetween:20}}});const u=document.querySelector("[data-multi-step]");if(u){const w=[...u.querySelectorAll("[data-step]")],v=[...u.querySelectorAll("[data-step-num]")];let f=w.findIndex((e=>e.classList.contains("active")));function m(){w.forEach(((e,t)=>{e.classList.toggle("active",t===f)}))}f<0&&(f=0,m()),u.addEventListener("click",(e=>{let t;e.target.matches("[data-next]")?t=1:e.target.matches("[data-previous]")&&(t=-1),null!=t&&([...w[f].querySelectorAll("input")].every((e=>e.reportValidity()))&&(f+=t,m()),v.forEach(((e,t)=>{t===f?e.classList.add("active"):t!=f&&e.classList.remove("active")})))})),w.forEach((e=>{e.addEventListener("animationend",(e=>{w[f].classList.remove("hiden"),e.target.classList.toggle("hiden",!e.target.classList.contains("active"))}))}))}const p=document.querySelectorAll(".tabs__item");p.forEach((e=>{e.classList.remove("active")})),p.forEach((e=>{e.addEventListener("click",(()=>{s(),(()=>{const t=e.dataset.item;document.querySelectorAll(".tabs__content").forEach((e=>{e.classList.remove("active"),e.dataset.content==t&&e.classList.add("active")}))})(),e.classList.add("active")}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("[data-form-member]"),t=document.querySelector("[data-form-model]"),a=document.querySelector("[data-form-footer]"),s=document.querySelector("[data-form-modal]"),n=document.querySelector("[data-form-request]"),o=document.querySelector("[data-form-lang]"),l=document.querySelector("[data-send-btn]"),r=document.querySelector("[data-alert-input]"),c=document.querySelector("[data-alert-img]"),i=document.querySelector(".steps__btn"),d=document.querySelectorAll(".form-alert__btn"),u=document.querySelector(".check__input");function m(e){let t=0,a=e.querySelectorAll(".--req");for(let e=0;e<a.length;e++){const l=a[e];n(l),l.classList.contains("_email")?o(l)&&(s(l),t++):("checkbox"===l.getAttribute("type")&&!1===l.checked||""===l.value)&&(s(l),t++)}function s(e){e.classList.add("_error")}function n(e){e.classList.remove("_error")}function o(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}return t}document.querySelectorAll(".tel").forEach((e=>{e.addEventListener("focus",(()=>{e.value="+"}))})),d.forEach((e=>{e.addEventListener("click",(()=>{r&&r.classList.contains("alert")&&r.classList.remove("alert"),c&&c.classList.contains("alert")&&c.classList.remove("alert")}))})),u&&u.addEventListener("change",(()=>{u.checked?l.removeAttribute("disabled"):l.setAttribute("disabled","")})),e&&(e.addEventListener("submit",(async function(t){t.preventDefault();let a=m(e),s=new FormData(e);if(0===a){let t=await fetch("assets/send-mail/member-sendmail.php",{method:"POST",body:s});if(t.ok){let a=await t.json();alert(a.message),e.reset(),w()}}else r.classList.add("alert")})),i.addEventListener("click",(()=>{0===m(e)?i.setAttribute("data-next",""):r.classList.add("alert")}))),t&&(t.addEventListener("submit",(async function(e){e.preventDefault();let a=m(t),s=new FormData(t);if(0===a){let e=await fetch("assets/send-mail/model-sendmail.php",{method:"POST",body:s});if(e.ok){let t=await e.json();alert(t.message),w()}else alert("Ошибка")}else r.classList.add("alert")})),fileInput.addEventListener("change",preview)),a.addEventListener("submit",(async function(e){e.preventDefault();let t=m(a),s=new FormData(a);if(0===t){let e=await fetch("assets/send-mail/footer-sendmail.php",{method:"POST",body:s});if(e.ok){let t=await e.json();alert(t.message),a.reset(),w()}else alert("Ошибка")}else r.classList.add("alert")})),s.addEventListener("submit",(async function(e){e.preventDefault();let t=m(s),a=new FormData(s);if(0===t){let e=await fetch("assets/send-mail/modal-sendmail.php",{method:"POST",body:a});if(e.ok){let t=await e.json();alert(t.message),s.reset(),w()}else alert("Ошибка")}else r.classList.add("alert")})),n&&n.addEventListener("submit",(async function(e){e.preventDefault();let t=m(n),a=new FormData(n);if(0===t){let e=await fetch("assets/send-mail/request-sendmail.php",{method:"POST",body:a});if(e.ok){let t=await e.json();alert(t.message),n.reset(),w()}else alert("Ошибка")}else r.classList.add("alert")}));const p=document.getElementById("formImage");function w(){"ua"===o.dataset.formLang?location.href="answer-ua.html":"eng"===o.dataset.formLang?location.href="answer-eng.html":location.href="answer.html"}p&&p.addEventListener("click",(function(){const e=document.querySelector(".questionnaire__photo"),t=document.createElement("div");t.classList.add("image-wrapp"),e.appendChild(t)}))}))}();